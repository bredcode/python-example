## 📘 4. To-Do 리스트 데이터베이스(SQLite)로 저장하기

### 🎯 실습 목표

이 실습에서는 기존에 파일(JSON)에 저장되던 To-Do 리스트를 **SQLite 데이터베이스**에 저장하고,  
프로그램 실행 시 불러올 수 있도록 기능을 확장합니다.  
이제는 프로그램을 껐다 켜도 할 일 목록이 **데이터베이스를 통해 지속적으로 유지**되는 것이 목표입니다.

### 📂 사전 준비

이 실습은 2단계에서 만든 To-Do 리스트 기능(생성, 조회, 상태 변경, 삭제)을 **그대로 유지**한 채,  
`todos = []` 대신 SQLite를 이용해 **저장/불러오기 기능을 데이터베이스 방식으로 교체**하는 실습입니다.

### 🧩 기능 요구 사항

1.  **할 일 목록 불러오기**

    - 프로그램이 시작될 때 `todos.db`라는 SQLite 데이터베이스 파일이 존재하면,  
      해당 데이터베이스에서 내용을 읽어 `todos` 리스트에 불러옵니다.
    - 파일이 없다면 새로 생성하여 테이블을 초기화합니다.

2.  **할 일 목록 저장하기**

    - 할 일 생성/상태 변경/삭제 이후에는 반드시 현재 `todos` 리스트를 `todos.db`에 반영해야 합니다.
    - 저장 시 기존 DB 내용을 초기화한 뒤, 현재 todos 리스트 내용을 모두 다시 저장합니다.

3.  **데이터베이스 테이블 구조**

    - 파일 이름: `todos.db`
    - 테이블 이름: `todos`
    - 스키마:

      ```sql
      CREATE TABLE IF NOT EXISTS todos (
      id INTEGER PRIMARY KEY AUTOINCREMENT,
      task TEXT NOT NULL,
      done INTEGER DEFAULT 0 );
      ```

4.  **데이터 예시**
    아래는 `todos.db`에 저장될 데이터의 예시입니다:  
    (done은 0 = 진행 중, 1 = 완료를 의미함)
    | id | task | done |
    | --- | -------- | ---- |
    | 1 | 공부하기 | 0 |
    | 2 | 운동하기 | 1 |

5.  **데이터베이스 파일 이름은 `todos.db`로 고정**

    - 파일 이름은 코드 전체에서 동일하게 유지합니다.
    - 별도의 경로 지정 없이 실행 파일과 같은 위치에 저장합니다.

### 💡 힌트

1.  데이터베이스를 사용하기 위해 `import sqlite3`를 활용합니다.
2.  DB 초기화는 프로그램 시작 시 한 번만 수행합니다.
3.  로딩 시: `SELECT task, done FROM todos` → `todos = [{'task': ..., 'done': ...}, ...]`
4.  저장 시: `DELETE FROM todos` → 반복문을 돌며 `INSERT INTO todos (...) VALUES (...)`
5.  프로그램 전체 로직은 2단계와 동일하게 유지하며, 저장/불러오기 부분만 변경합니다.
